# 1. 사용자 계정의 UID 확인(v-sys-01-l)

## 가. 배경

우리는 일반적으로 *사용자명*(username)과 *패스워드*를 입력하여 리눅스 시스템에 로그인 합니다. 그래서 리눅스 시스템이 *사용자명*으로 사용자를 식별하고, 자원(파일, 프로세스 등)에 대한 접근을 통제하는 것처럼 보입니다. 그러나 실제 리눅스 시스템은 사용자명이 아닌 **UID**로 사용자를 식별하고, 자원에 대한 접근을 통제합니다. UID는 User Identifier의 약자입니다.

UID는 `/etc/passwd` 파일에서 찾을 수 있으며, 파일의 내용은 `cat` 명령을 사용하여 확인할 수 있습니다.
> `cat /etc/passwd`

`/etc/passwd` 파일에 리눅스 시스템의 모든 사용자 계정 정보가 저장됩니다. 리눅스 시스템의 각 사용자 계정 정보는 하나의 행(row)에 저장되며, 아래의 7개의 필드(field)로 구성됩니다. 필드는 콜론(:)으로 구분됩니다.

- 1 : 사용자명(username)
- 2 : 패스워드(`x` 표시는 패스워드의 해시 값이 `/etc/shadow` 파일에 저장되어 있음을 의미)
- 3 : **UID**
- 4 : GID (Group Identifier)
- 5 : 사용자 일반 정보(GECOS)
- 6 : 사용자 홈 디렉토리
- 7 : 사용자 기본 셸

`/etc/passwd` 파일의 첫 행에는 사용자명이 `root`인 계정의 정보가 있습니다. `root`는 리눅스 시스템에서 모든 권한을 가진 관리자로, `root` 계정의 UID와 GID는 `0`입니다.
> `grep root /etc/passwd`

앞서 리눅스 시스템은 사용자명이 아닌 **UID**로 사용자를 식별하고, 자원에 대한 접근을 통제한다고 하였습니다. 그러므로 `/etc/passwd`에서 첫 행의 사용자명을 다른 이름(예를 들어, `root`에서 `cju`로)으로 변경하더라도 해당 계정은 관리자 권한을 가집니다.
> 반대로 다른 계정의 UID와 GID를 `0`으로 변경해도 해당 계정은 관리자 권한을 가집니다.

리눅스 시스템이 내부적으로 사용하는 계정에게는 500 미만의 UID를 부여하며, (`adduser` 명령 등으로 추가된) 일반적인 사용자 계정에게는 500 이상의 UID가 부여됩니다. 우분투(Ubuntu) 및 페도라(Fedora) 시스템에서는 일반 사용자 계정에게 1000 이상의 UID가 부여됩니다.

## 나. 훈련 목적
사용자 계정의 UID를 확인할 수 있습니다.

## 다. 설정(확인) 방법
`# id username`* 명령으로 해당 사용자 계정의 UID를 확인할 수 있습니다.  
`# usermod -u UID username` 명령으로 해당 사용자의 UID를 변경할 수 있습니다.

## 라. 잘못된 보안 설정으로 인한 피해
UID는 고유하며 파일 및 프로세스와 같은 다양한 시스템 리소스의 소유권을 식별하는 데 사용됩니다. UID가 올바르지 않으면 파일의 소유자가 달라지므로 파일 및 정보를 도용/감청할 수 있습니다. 보안 설정에서 상당히 중요합니다.

## 마. 사이버이지스 훈련 콘텐츠 목적
리눅스 시스템 관리자로서 사용자명이 `navy2017`인 사용자 계정의의 UID를 확인하세요.

## 바. 실습 환경
 
운영체제 : 리눅스(CentOS)  
실습계정 : root/root123
> UID 확인 명령 : `id username`

## 사. 문제 풀이

### 1. `navy2017` 사용자의 UID를 확인하기 위하여 `uid` 명령 실행
> `grep navy2017 /etc/passwd` 등의 명령으로도 확인 가능
```
[root@localhost ~]# id navy2017
uid=508(navy2017) gid=508(navy2017) groups=508(navy2017)
```

### 2. 정답 확인
> `navy2017`의 UID 값은 시스템에 따라 다를 수 있음
```
[root@localhost ~]# check
Enter uid of navy2017: 508
--success!!!--
```