## NFS 서비스 제한

### 배경
NFS(네트워크 파일 시스템)는 클라이언트 컴퓨터의 사용자가 네트워크에 연결하고 파일에 액세스할 수 있도록 하는 파일 시스템 배포 프로토콜입니다. 로컬 저장소를 통해 파일에 액세스하는 방법과 유사합니다. 네트워크 파일 시스템은 개방형 표준이므로 누구나 프로토콜을 실행할 수 있습니다. 네트워크 내의 모든 사람들이 동일한 파일에 액세스할 수 있으므로 파일 공유 프로세스가 더 쉬워집니다.
NFS에는 또한 많은 클라이언트가 동일한 파일을 공유할 수 있도록 하는 파일 잠금 시스템이 있습니다. NFS는 작동을 위해 여러 컴퓨터 스레드 및 응용 프로그램을 관리할 수 있습니다. 동일한 파일에 액세스할 수 있는 여러 호스트를 사용합니다. NFS는 작동을 위한 애플리케이션이 필요하지 않으며 읽을 콘텐츠를 처리하기 위한 간단한 디자인을 제공합니다.
NFS는 Windows를 포함한 모든 운영 체제에서 실행됩니다. 그러나 Unix 및 Linux를 포함한 유사한 운영 체제에서 매우 인기가 있습니다. 이러한 인기의 실질적인 이유 중 하나는 NFS가 Unix의 주요 공급업체인 Sun Microsystems에서 개발되었기 때문입니다.
 
### 목표
NFS 서비스 사용을 제한합니다.
NFS는 네트워크의 서로 다른 클라이언트 간에 파일과 디렉토리를 원격으로 읽고, 쓰고, 실행하고, 삭제할 수 있도록 지원하는 서비스입니다. 이 시나리오의 목표는 NFS 서비스를 제한하여 전체 시스템 보안을 강화하는 것입니다.

### 설정 방법
/etc/exports 파일의 공유 디렉토리 및 서버 설정
예) /usr/local 192.168.0.1(로) 192.168.0.2(로)

### 잘못된 보안 설정으로 인한 피해
NFS 서비스는 보안상 매우 위험한 서비스입니다. 파일과 디렉토리를 원격으로 관리하는 것은 매우 편리하지만 그에비해 보안면에서 매우 취약한 서비스입니다. 공격자가 이러한 서비스에 접근하면 무엇이든 가능하므로 /etc/exports 파일에 NFS를 설정하여 보안을 강화해야 합니다.

### 교육 목표
NFS(Network File System) 서비스를 사용하면 원격 컴퓨터의 파일 시스템을 로컬 시스템에 마운트하여 마치 로컬 파일 시스템처럼 사용할 수 있습니다. 따라서 NFS를 사용하지 않는 경우 제거해야 합니다. 그렇지 않으면 접근 권한을 설정하여 제어해야 합니다. NFS에서 설정한 공유 폴더 권한을 모든 IP에서 특정 IP(192.168.74.137)로 제한하세요.

### 실습 시스템 정보
운영체제 : 리눅스(CentOS)
계정 : `root` / `root123`
[참조]
1) /etc/exports 파일(/var/lib/tomcat6/webapps/sample/images 쪽)을 편집합니다.

### 문제 해결
1. NFS 공유 폴더 설정 변경
```
[root@locahost ~]# vi /etc/exports


# /var/lib/tomcat6/webapps/sample/images (rw) ->
	 /var/lib/tomcat6/webapps/sample/images 192.168.74.137
```

2. NFS 서비스 재시작
```
[root@localhost ~]# service nfs restart
```

3. 답이 맞는지 확인
```
[root@localhost ~]# check
nfs share ip setting OK
correct
```